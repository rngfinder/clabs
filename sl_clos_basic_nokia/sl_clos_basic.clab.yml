# topology 
name: sl_clos_basic

topology:
  kinds:
    nokia_srlinux:
      image: ghcr.io/nokia/srlinux:latest
    arista_ceos:
      image: ceos:4.34.0F
    linux:
      image: alpine:latest
  nodes:
    spine1:
      kind: nokia_srlinux
    spine2:
      kind: nokia_srlinux
    leaf1:
      kind: arista_ceos
    leaf2:
      kind: arista_ceos    
    leaf3:
      kind: arista_ceos
    R11:
      kind: nokia_srlinux
    ISP:
      kind: nokia_srlinux    

    pc1:
      kind: linux  
    pc2:
      kind: linux    
    pc3:
      kind: linux  
    pc4:
      kind: linux    

  links:
    #l1 to spine links
    - endpoints: ["spine1:e1-1", "leaf1:eth1"]
    - endpoints: ["spine1:e1-2", "leaf2:eth1"]
    - endpoints: ["spine1:e1-3", "leaf3:eth1"]

    # l2 to spinr links
    - endpoints: ["spine2:e1-1", "leaf1:eth2"]
    - endpoints: ["spine2:e1-2", "leaf2:eth2"]
    - endpoints: ["spine2:e1-3", "leaf3:eth2"]
    
    # spine to R11 links
    - endpoints: ["spine1:e1-4", "R11:e1-1"]
    - endpoints: ["spine2:e1-4", "R11:e1-2"]
     #R11 to ISP
    - endpoints: ["R11:e1-3", "ISP:e1-1"]
    - endpoints: ["R11:e1-4", "ISP:e1-2"]

    # host connection links
    - endpoints: ["pc1:eth1", "leaf1:eth3"]
    - endpoints: ["pc2:eth1", "leaf2:eth3"]
    - endpoints: ["pc3:eth1", "leaf3:eth3"]
    - endpoints: ["pc4:eth1", "leaf3:eth4"]