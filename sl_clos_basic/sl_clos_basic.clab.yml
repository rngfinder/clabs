# topology 
name: sl_clos_basic

topology:
  kinds:
    arista_ceos:
      image: ceos:4.35.0F
    linux:
      image: alpine:latest
  nodes:
    spine1:
      kind: arista_ceos
    spine2:
      kind: arista_ceos
    leaf1:
      kind: arista_ceos
    leaf2:
      kind: arista_ceos    
    leaf3:
      kind: arista_ceos
    R11:
      kind: arista_ceos
    ISP:
      kind: arista_ceos

    pc1:
      kind: linux  
    pc2:
      kind: linux    
    pc3:
      kind: linux  
    pc4:
      kind: linux    

  links:
    #l1 to spine links
    - endpoints: ["spine1:eth1", "leaf1:eth1"]
    - endpoints: ["spine1:eth2", "leaf2:eth1"]
    - endpoints: ["spine1:eth3", "leaf3:eth1"]

    # l2 to spinr links
    - endpoints: ["spine2:eth1", "leaf1:eth2"]
    - endpoints: ["spine2:eth2", "leaf2:eth2"]
    - endpoints: ["spine2:eth3", "leaf3:eth2"]
    
    # spine to R11 links
    - endpoints: ["spine1:eth4", "R11:eth1"]
    - endpoints: ["spine2:eth4", "R11:eth2"]
     #R11 to ISP
    - endpoints: ["R11:eth3", "ISP:eth1"]
    - endpoints: ["R11:eth4", "ISP:eth2"]

    # host connection links
    - endpoints: ["pc1:eth1", "leaf1:eth3"]
    - endpoints: ["pc2:eth1", "leaf2:eth3"]
    - endpoints: ["pc3:eth1", "leaf3:eth3"]
    - endpoints: ["pc4:eth1", "leaf3:eth4"]
